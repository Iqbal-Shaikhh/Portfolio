{% extends 'basic.html' %}

{% block title %} Code Paper | Blog {% endblock title %}

{% block blogactive %} active font-weight-bold {% endblock blogactive %}
{% load humanize %}
{% load extras %}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico"> -->

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/blog/">

    <!-- Bootstrap core CSS -->
    <!-- <link href="../../dist/css/bootstrap.min.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <!-- <link href="blog.css" rel="stylesheet"> -->

    <style>
        .carousel-control-prev-icon {
            border-radius: 50%;
        }
    </style>
</head>

{% block body %}

<body>
    <div class="container">
        <div class="nav-scroller py-1 mb-2">
            <!--<nav class="nav justify-content-between">
                <a class="p-2 text-muted" href="#"><b>World</b></a>
                <a class="p-2 text-muted" href="#"><b>U.S.</b></a>
                <a class="p-2 text-muted" href="#">Technology</a>
                <a class="p-2 text-muted" href="#">Design</a>
                <a class="p-2 text-muted" href="#">Culture</a>
                <a class="p-2 text-muted" href="#">Business</a>
                <a class="p-2 text-muted" href="#">Politics</a>
                <a class="p-2 text-muted" href="#">Opinion</a>
                <a class="p-2 text-muted" href="#">Science</a>
                <a class="p-2 text-muted" href="#">Health</a>
                <a class="p-2 text-muted" href="#">Style</a>
                <a class="p-2 text-muted" href="#">Travel</a>
            </nav>-->
        </div>

        <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark">
            <div class="col-md-6 px-0">
                <h1 class="display-4 font-italic">{{post.title}}</h1>
                <p class="lead my-3">{{post.content | truncatechars:100}}</p>
                <p class="lead mb-0"><a href="#" class="text-white font-weight-bold">Continue reading...</a></p>
            </div>
        </div>

        <div id="carouselExampleIndicators" class="carousel slide container" data-ride="carousel">
            <div class="row">
                <button class="col-1 btn btn-primary" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <div class="carousel-inner col">
                    <div class="carousel-item active">
                        <div class="card flex-md-row box-shadow h-md-250">
                            <div class="card-body d-flex flex-column align-items-start">
                                <strong class="d-inline-block text-primary">{{post.author}}</strong>
                                <h3 class="mb-0">
                                    <a class="text-dark" href="#">{{post.title}}</a>
                                </h3>
                                <div class="mb-1 text-muted">{{post.timeStamp}}</div>
                                <p class="card-text mb-auto">{{post.content |safe| truncatechars:500}}</p>
                                <a href="{{post.slug}}">Continue reading</a>
                            </div>
                            <img class="card-img-right flex-auto d-none d-md-block"
                                data-src="holder.js/200x250?theme=thumb" alt="Thumbnail [200x250]"
                                style="width: 200px; height: 250px;"
                                src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22200%22%20height%3D%22250%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20200%20250%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_184370c71d1%20text%20%7B%20fill%3A%23eceeef%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A13pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_184370c71d1%22%3E%3Crect%20width%3D%22200%22%20height%3D%22250%22%20fill%3D%22%2355595c%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2256.1875%22%20y%3D%22130.8666666030884%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                                data-holder-rendered="true">
                        </div>
                    </div>

                    {% for post_item in allPosts %}

                    {% if post.title|slugify != post_item.title|slugify %}
                    <div class="carousel-item">
                        <div class="card flex-md-row box-shadow h-md-250">
                            <div class="card-body d-flex flex-column align-items-start">
                                <strong class="d-inline-block text-primary">{{post_item.author}}</strong>
                                <h3 class="mb-0">
                                    <a class="text-dark" href="#">{{post_item.title}}</a>
                                </h3>
                                <div class="mb-1 text-muted">{{post_item.timeStamp}}</div>
                                <p class="card-text mb-auto">{{post_item.content | truncatechars:100}}</p>
                                <a href="{{post_item.slug}}">Continue reading</a>
                            </div>
                            <img class="card-img-right flex-auto d-none d-md-block"
                                data-src="holder.js/200x250?theme=thumb" alt="Thumbnail [200x250]"
                                style="width: 200px; height: 250px;"
                                src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22200%22%20height%3D%22250%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20200%20250%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_184370c71d1%20text%20%7B%20fill%3A%23eceeef%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A13pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_184370c71d1%22%3E%3Crect%20width%3D%22200%22%20height%3D%22250%22%20fill%3D%22%2355595c%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2256.1875%22%20y%3D%22130.8666666030884%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"
                                data-holder-rendered="true">
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>

                <button class="col-1 btn btn-primary" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>

            </div>
        </div>


    </div>

    <main role="main" class="container">
        <div class="row">
            <div class="col-md-8 blog-main">
                <h3 class="pb-3 mt-4 font-italic border-bottom">
                    From the Code Paper
                </h3>

                <div class="container my-3">
                    <h2 class="blog-post-title">{{post.title}}</h2>
                    <p class="blog-post-meta">{{post.timeStamp}} by <a href="/about">{{post.author}}</a> (<span>{{post.views}} views</span>)</p>
                    
                    <p>{{post.content|safe}}</p>
                    <hr>
                </div>
                <div class="container">'
                    <h2>Comments({{comments.count}})</h2>
                    <div class="my-2">
                        {% if user.is_authenticated %}
                        <form action="/blog/postComment" method="post">
                    {% csrf_token %}
                        <div class="form-group">
                          <label for="exampleInputEmail1">Post Comment:</label>
                          <input type="text" class="form-label" name="comment" placeholder="Enter your comment here">
                        </div>
                        
                        <input type="hidden" name="postSno" value="{{post.sno}}">
                        <input type="hidden" name="parentSno" values="">
                        <button type="submit" class="btn btn-primary">Submit</button>
                      </form>
                        {% else %}
                        <p> Please login to post a comment </p>>
                        {% endif %}
                    
                    </div>
                    {% for comment in comments %}
                    <div class="row my-3">
                        <div class="col-md-1"> 
                            <img src="/static/img/user.png" class="rounded mx-auto d-block w-100 " alt="user" >
                        </div>
                        <div class="col-md-11"> 
                            <b> {{comment.user.username}} </b> <span class="badge badge-secondary">{{comment.timestamp | naturaltime}}</span>
                            <div>{{comment.comment}}</div>
                            <div class="reply mx-0">
                                {% if user.is_authenticated %}
                                    <button class="btn btn-sm btn-primary mt-3" type="button" data-toggle="collapse" data-target="#replyBox{{comment.sno}}" aria-expanded="false" aria-controls="replyBox{{comment.sno}}">
                                        Reply
                                    </button>
                                 
                                  <div class="collapse" id="replyBox{{comment.sno}}">
                                    <div class="card card-body my-2">
                                        <form action="/blog/postComment" method="post">
                                            {% csrf_token %}
                                                <div class="form-group">
                                                  <label for="comment">Post Reply:</label>
                                                  <input type="text" class="form-control" name="comment" placeholder="Enter your reply here">
                                                  <input type="hidden" name="parentSno" value="{{comment.sno}}">
                                                </div>
                                                
                                                <input type="hidden" name="postSno" value="{{post.sno}}">
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                              </form>
                                    </div>
                                  </div>
                                  {% else %}
                                  <button class="btn btn-sm btn-primary" type="button" data-toggle="collapse" data-target="#replyBox{{comment.sno}}" aria-expanded="false" aria-controls="replyBox{{comment.sno}}" disabled>
                                    Log in to Reply
                                  </button>
                                  {% endif %}
                                  <div class="replies my-2">
                                    {% for reply in replyDict|get_val:comment.sno %}
                                    <div class="row my-2">
                                        <div class="col-md-1">
                                            <img class="rounded mx-auto d-block w-100 border border-dark"src="/static/img/user.png" alt="user">
                                        </div>
                                    <div class="col-md-11">
                                        
                                        <b> {{reply.user.username}} </b> <span class="badge badge-secondary">{{reply.timestamp | naturaltime}}</span>
                                        <div>{{reply.comment}}</div>
                                    </div>
                                        <br>
                                    </div>
                                    {% endfor %} 
                                  </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                <!-- <div class="blog-post">
                    <h2 class="blog-post-title">Another blog post</h2>
                    <p class="blog-post-meta">December 23, 2013 by <a href="#">Jacob</a></p>

                    <p>Cum sociis natoque penatibus et magnis <a href="#">dis parturient montes</a>, nascetur
                        ridiculus mus. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis
                        vestibulum. Sed posuere consectetur est at lobortis. Cras mattis consectetur purus sit amet
                        fermentum.</p>
                    <blockquote>
                        <p>Curabitur blandit tempus porttitor. <strong>Nullam quis risus eget urna mollis</strong>
                            ornare vel eu leo. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                    </blockquote>
                    <p>Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit
                        amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>
                    <p>Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Duis mollis, est non
                        commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Morbi leo risus,
                        porta ac consectetur ac, vestibulum at eros.</p>
                </div> -->

                <!-- <div class="blog-post">
                    <h2 class="blog-post-title">New feature</h2>
                    <p class="blog-post-meta">December 14, 2013 by <a href="#">Chris</a></p>

                    <p>Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aenean
                        lacinia bibendum nulla sed consectetur. Etiam porta sem malesuada magna mollis euismod.
                        Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa
                        justo sit amet risus.</p>
                    <ul>
                        <li>Praesent commodo cursus magna, vel scelerisque nisl consectetur et.</li>
                        <li>Donec id elit non mi porta gravida at eget metus.</li>
                        <li>Nulla vitae elit libero, a pharetra augue.</li>
                    </ul>
                    <p>Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit
                        amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>
                    <p>Donec ullamcorper nulla non metus auctor fringilla. Nulla vitae elit libero, a pharetra
                        augue.</p>
                </div>/.blog-post -->

                <nav class="blog-pagination">
                    <a class="btn btn-outline-primary" href="#">Older</a>
                    <a class="btn btn-outline-secondary disabled" href="#">Newer</a>
                </nav>
            </div>

            <aside class="col-md-4 mt-4 blog-sidebar">
                <div class="p-3 m-3 bg-light rounded">
                    <h4 class="font-italic">About</h4>
                    <p class="mb-0">Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur
                        purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>
                </div>

                <div class="p-3">
                    <h4 class="font-italic">Archives</h4>
                    <ol class="list-unstyled mb-0">
                        <li><a href="#">March 2014</a></li>
                        <li><a href="#">February 2014</a></li>
                        <li><a href="#">January 2014</a></li>
                        <li><a href="#">December 2013</a></li>
                        <li><a href="#">November 2013</a></li>
                        <li><a href="#">October 2013</a></li>
                        <li><a href="#">September 2013</a></li>
                        <li><a href="#">August 2013</a></li>
                        <li><a href="#">July 2013</a></li>
                        <li><a href="#">June 2013</a></li>
                        <li><a href="#">May 2013</a></li>
                        <li><a href="#">April 2013</a></li>
                    </ol>
                </div>

                <div class="p-3">
                    <h4 class="font-italic">Elsewhere</h4>
                    <ol class="list-unstyled">
                        <li><a href="#">GitHub</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Facebook</a></li>
                    </ol>
                </div>
            </aside>
        </div>
    </main>

    <footer class="blog-footer text-center text-white py-4 mt-4 bg-secondary">
        <div>
            Copyright (c) <b> Code Paper </b>
        </div>

        <div>
            Developed and Maintained By <b>I.Shaikh and Team</b>
        </div>

    </footer>

    <!-- Bootstrap core JavaScript
        ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <!-- <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="../../assets/js/vendor/popper.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/vendor/holder.min.js"></script>
    <script>
        Holder.addTheme('thumb', {
            bg: '#55595c',
            fg: '#eceeef',
            text: 'Thumbnail'
        });
    </script> -->


    <svg xmlns="http://www.w3.org/2000/svg" width="200" height="250" viewBox="0 0 200 250" preserveAspectRatio="none"
        style="display: none; visibility: hidden; position: absolute; top: -100%; left: -100%;">
        <defs>
            <style type="text/css"></style>
        </defs><text x="0" y="13"
            style="font-weight:bold;font-size:13pt;font-family:Arial, Helvetica, Open Sans, sans-serif">Thumbnail</text>
    </svg>
</body>

</html>
{% endblock body %}